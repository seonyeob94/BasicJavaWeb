<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="board">
	
	<resultMap id="boardMap" type="BoardVo">
		<result property="boardNo" column="BOARD_NO"/>
		<result property="title" column="TITLE"/>
		<result property="content" column="CONTENT"/>
		<result property="regDate" column="REG_DATE"/>
		<result property="cnt" column="CNT"/>
		<result property="codeNo" column="CODE-NO"/>
		<result property="delyn" column="DELYN"/>
	
	
		<association property="member" javaType="MemberVo">			
			<id property="memNo" column="MEM_NO"/>
			<result property="name" column="NAME"/>
		</association>
	</resultMap>
	
	<select id="codeList" resultType="BoardCodeVo">
		SELECT *
		FROM BOARD_CODE
	</select>
	
	<select id="boardList" resultMap="boardMap" parameterType="BoardVo">
		SELECT 
       		 BOARD_NO, TITLE, CONTENT, B.REG_DATE, B.MEM_NO, 
       		 CNT, CODE_NO, B.DELYN, NAME
  		FROM BOARD B, MEMBER M
  		WHERE B.MEM_NO = M.MEM_NO
 		 AND CODE_NO=#{codeNo}
	</select>

</mapper>